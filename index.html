<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Draw GeoJSON points</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css" rel="stylesheet" />
<style>
	body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<div id="map"></div>
<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoibWFwYWN0aW9uIiwiYSI6ImNqOG9sbmQ5dTA0bG0zMnF1anB2M2wwZmYifQ.CKWhThHWbjRXUBnBcRoOqQ';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/mapbox/light-v10',
center: [0, 0],
zoom: 1
});
 
map.on('load', function () {
// Add an image to use as a custom marker
map.loadImage(
'https://docs.mapbox.com/mapbox-gl-js/assets/custom_marker.png',
function (error, image) {
if (error) throw error;
map.addImage('custom-marker', image);
// Add a GeoJSON source with 2 points
map.addSource('points',  {
    "type": "Feature",
    "geometry": {
       "type": "Point",
       "coordinates":  [ 27.5143603,-29.3632188 ]
    },
    "properties": {
    "Event Name":"2003-09-11 - Lesotho - Food Security",
    "Title":"Lesotho - Food Security",
    "Start Date":"08/09/2003",
    "StartYear":2003,
    "startmonth":"Sep",
    "End Date":"20/09/2003",
    "daterange":"Sep 2003",
    "Activity Category":"Slow Onset",
    "Activity SubCategory":"Deployment",
    "city":"Maseru",
    "country":"Lesotho",
    "eventID":"158",
    "eventSlug":"00158",
    "mdrurl":"http://maps.mapaction.org/event/00158",
    "eventtype":"Food security",
    "iconfileName":"food-security.png",
    "Description":"MapAction surveys and maps emergency food distribution infrastructure in southwest Lesotho ahead of crop failures that result in chronic food insecurity.",
    "OldDescription":"MapAction surveyed and mapped emergency food distribution logistics infrastructure in south-west Lesotho including delivery points and routes. This was carried out ahead of the crop failures that resulted in chronic food insecurity which still persists in the country.",
    "Glide Number":"",
    "ISO3 Country Code":"LSO",
    "Continent":"Africa",
    "Region":"Africa",
    "Subregion":"Southern Africa",
    "Other Names":"",
    "partner":""
    }
  },
  {
    "type": "Feature",
    "geometry": {
       "type": "Point",
       "coordinates":  [ 79.861243,6.9270786 ]
    },
    "properties": {
    "Event Name":"2004-12-28 - Sri Lanka - Asian Tsunami",
    "Title":"Sri Lanka - Asian Tsunami",
    "Start Date":"28/12/2004",
    "StartYear":2004,
    "startmonth":"Dec",
    "End Date":"19/01/2005",
    "daterange":"Dec 2004 - Jan 2005",
    "Activity Category":"Sudden Onset",
    "Activity SubCategory":"Deployment",
    "city":"Colombo",
    "country":"Sri Lanka",
    "eventID":"5",
    "eventSlug":"00005",
    "mdrurl":"http://maps.mapaction.org/event/00005",
    "eventtype":"Tsunami",
    "iconfileName":"tsunami.png",
    "Description":"MapAction's first disaster response is to Sri Lanka in December 2004, in response to the catastrophic Indian Ocean tsunami.",
    "OldDescription":"MapAction's first disaster response was to Sri Lanka in December 2004, in response to the catastrophic Indian Ocean tsunami.",
    "Glide Number":"TS-2004-000147-LKA ",
    "ISO3 Country Code":"LKA",
    "Continent":"Asia",
    "Region":"Asia",
    "Subregion":"Southern Asia",
    "Other Names":"",
    "partner":""
    }
  },
  {
    "type": "Feature",
    "geometry": {
       "type": "Point",
       "coordinates":  [ 2.1253854,13.5115963 ]
    },
    "properties": {
    "Event Name":"2005-08-18 - Niger - Niger Food Security",
    "Title":"Niger - Niger Food Security",
    "Start Date":"15/08/2005",
    "StartYear":2005,
    "startmonth":"Aug",
    "End Date":"30/08/2005",
    "daterange":"Aug 2005",
    "Activity Category":"Slow Onset",
    "Activity SubCategory":"Deployment",
    "city":"Niamey",
    "country":"Niger",
    "eventID":"6",
    "eventSlug":"00006",
    "mdrurl":"http://maps.mapaction.org/event/00006",
    "eventtype":"Food security",
    "iconfileName":"food-security.png",
    "Description":"Two MapAction volunteers are deployed to establish a GIS/mapping cell during a food crisis aggravated by severe drought and locust invasion.",
    "OldDescription":"Two MapAction volunteers were deployed to estblish a GIS/ mapping cell in support of the Humanitarian Information Centre (HIC) during the severe droughts that affected the country in 2005.",
    "Glide Number":"CE-2005-000151-NER ",
    "ISO3 Country Code":"NER",
    "Continent":"Africa",
    "Region":"Africa",
    "Subregion":"Western Africa",
    "Other Names":"",
    "partner":""
    }
  },
{
// feature for Mapbox SF
'type': 'Feature',
'geometry': {
'type': 'Point',
'coordinates': [-122.414, 37.776]
},
'properties': {
'title': 'Mapbox SF'
}
}
]
}
});
 
// Add a symbol layer
map.addLayer({
'id': 'points',
'type': 'symbol',
'source': 'points',
'layout': {
'icon-image': 'custom-marker',
// get the title name from the source's "title" property
'text-field': ['get', 'title'],
'text-font': [
'Open Sans Semibold',
'Arial Unicode MS Bold'
],
'text-offset': [0, 1.25],
'text-anchor': 'top'
}
});
}
);
});
</script>
 
</body>
</html>